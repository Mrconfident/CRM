{"remainingRequest":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue","mtime":1611636933700},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vY29va2llcycKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6ICgpID0+ICh7CiAgICBsZWFkOiB7fSwKICAgIGNvbW1lbnRzOiAnJywKICAgIGRvY3VtZW50VVJMOiAnJywKICAgIHNlbGVjdGVkRmlsZTogbnVsbCwKICAgIGFwaTogJzNhYmI2OTllYzc5N2YzNmRmMjkyOGQwYmUzMDc4NWM5JwogIH0pLAogIGNyZWF0ZWQgKCkgewogICAgY29uc3QgdXJsID0gJ2h0dHA6Ly8xMC4xNzcuMi4yMTo4NzYwL3RpY2tldC9hc3NpZ25UaWNrZXQnCiAgICBjb25zdCBoZWFkZXJzID0gewogICAgICBBdXRob3JpemF0aW9uOiBnZXRDb29raWUoJ2FnZW50X2lkJykKICAgIH0KICAgIGF4aW9zLmdldCh1cmwsIHsgaGVhZGVyczogaGVhZGVycyB9KS50aGVuKChyZXMpID0+IHsKICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICB0aGlzLmxlYWQgPSByZXMuZGF0YQogICAgICB0aGlzLmxlYWQudGlja2V0U3RhdHVzID0gJ0luIFByb2dyZXNzJwogICAgfSkKICB9LAogIG1ldGhvZHM6ICh7CiAgICBjbG9zZVRpY2tldCAoKSB7CiAgICAgIGNvbnN0IHVybCA9ICdodHRwOi8vMTAuMTc3LjIuMjE6ODc2MC90aWNrZXQvY2xvc2VUaWNrZXQnCiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogZ2V0Q29va2llKCdhZ2VudF9pZCcpCiAgICAgIH0KICAgICAgYXhpb3MucG9zdCh1cmwsIHsgc291cmNlOiB0aGlzLmxlYWQuc291cmNlLCBmaXJzdE5hbWU6IHRoaXMubGVhZC5maXJzdE5hbWUsIGxhc3ROYW1lOiB0aGlzLmxlYWQubGFzdE5hbWUsIHBvc3RJZDogdGhpcy5sZWFkLnBvc3RJZCwgdXNlckVtYWlsOiB0aGlzLmxlYWQudXNlckVtYWlsLCB0aWNrZXRTdGF0dXM6ICdDbG9zZWQnLCBjb21tZW50czogdGhpcy5jb21tZW50cywgZG9jdW1lbnRVUkw6IG51bGwsIGFkbWluRW1haWw6IHRoaXMubGVhZC5hZG1pbkVtYWlsLCB0aWNrZXRJZDogdGhpcy5sZWFkLnRpY2tldElkIH0sIHsgaGVhZGVyczogaGVhZGVycyB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goJy90aWNrZXRkYXNoYm9hcmQnKQogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIG9uVXBsb2FkICgpIHsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgdGhpcy5zZWxlY3RlZEZpbGUpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgdGhpcy5hcGkpCiAgICAgIGNvbnN0IHJlc3BvID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cHM6Ly9hcGkuaW1nYmIuY29tLzEvdXBsb2FkJywgZm9ybURhdGEpCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvLmRhdGEuZGF0YS51cmwpCiAgICAgIHRoaXMuZG9jdW1lbnRVUkwgPSByZXNwby5kYXRhLmRhdGEudXJsCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZG9jdW1lbnRVUkwpCiAgICB9LAogICAgb25GaWxlQ2hhbmdlZCAoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQpCiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdCiAgICB9CiAgfSkKfQo="},{"version":3,"sources":["TicketDashBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TicketDashBoard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2 style=\"text-align:center\">Ticket</h2>\n    <div class=\"card\">\n      <div class=\"leads\"><label>Source:</label> <p class=\"style\">{{lead.source}}</p></div>\n      <div class=\"leads\"><label>First Name:</label> <p class=\"style\"> {{lead.firstName}}</p></div>\n      <div class=\"leads\"><label>Last Name:</label> <p class=\"style\">{{lead.lastName}}</p></div>\n      <div class=\"leads\"><label>Post Id:</label> <p class=\"style\">{{lead.postId}}</p></div>\n      <div class=\"leads\"><label>Lead E-mail:</label> <p class=\"style\">{{lead.userEmail}}</p></div>\n      <div class=\"leads\"><label>Status:</label> <p class=\"style\">{{lead.ticketStatus}}</p></div>\n\n     <div class=\"leads\"><label id=comment>Add Comments:</label> <input type=\"text\" name=\"comments\" placeholder=\"Enter the comments\" v-model=\"comments\"></div>\n      <div class=\"leads\"><label>Support Documents:</label><input type=\"file\" accept=\"image/*\" @change=\"onFileChange\"></div>\n      <button @click=\"onUpload\" type=\"button\">Upload!</button>\n      <p><button @click=\"closeTicket\">Close Ticket</button></p>\n   </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { getCookie } from '../cookies'\nexport default {\n  data: () => ({\n    lead: {},\n    comments: '',\n    documentURL: '',\n    selectedFile: null,\n    api: '3abb699ec797f36df2928d0be30785c9'\n  }),\n  created () {\n    const url = 'http://10.177.2.21:8760/ticket/assignTicket'\n    const headers = {\n      Authorization: getCookie('agent_id')\n    }\n    axios.get(url, { headers: headers }).then((res) => {\n      console.log(res)\n      this.lead = res.data\n      this.lead.ticketStatus = 'In Progress'\n    })\n  },\n  methods: ({\n    closeTicket () {\n      const url = 'http://10.177.2.21:8760/ticket/closeTicket'\n      const headers = {\n        Authorization: getCookie('agent_id')\n      }\n      axios.post(url, { source: this.lead.source, firstName: this.lead.firstName, lastName: this.lead.lastName, postId: this.lead.postId, userEmail: this.lead.userEmail, ticketStatus: 'Closed', comments: this.comments, documentURL: null, adminEmail: this.lead.adminEmail, ticketId: this.lead.ticketId }, { headers: headers }).then((res) => {\n        console.log(res)\n        // this.$router.push('/ticketdashboard')\n        window.location.reload()\n      })\n    },\n    async onUpload () {\n      const formData = new FormData()\n      formData.append('image', this.selectedFile)\n      formData.append('key', this.api)\n      const respo = await axios.post('https://api.imgbb.com/1/upload', formData)\n      console.log(respo.data.data.url)\n      this.documentURL = respo.data.data.url\n      console.log(this.documentURL)\n    },\n    onFileChanged (event) {\n      console.log(event)\n      this.selectedFile = event.target.files[0]\n    }\n  })\n}\n</script>\n<style scoped>\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  max-width: 500px;\n  margin: auto;\n  text-align: center;\n  font-family: arial;\n  font-size: 18px;\n}\n\n.title {\n  color: grey;\n  font-size: 18px;\n}\n\n.style {\n  margin-right: 40px;\n}\n\nbutton {\n  border: none;\n  outline: 0;\n  display: inline-block;\n  padding: 8px;\n  color: white;\n  background-color: #000;\n  text-align: center;\n  cursor: pointer;\n  width: 100%;\n  font-size: 18px;\n  margin-top: 10px;\n}\n\nlabel {\n  /* display: block; */\n  padding: 5px;\n  text-decoration-line: underline;\n  font-weight: bold;\n}\n\na {\n  text-decoration: none;\n  font-size: 22px;\n  color: black;\n}\n\nbutton:hover, a:hover {\n  opacity: 0.7;\n}\n\ninput[type=file] {\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  box-sizing: border-box;\n  background: #ffffff;\n  font-size: 18px;\n}\n\ninput[type=text] {\nwidth: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border-bottom: 1px solid #ccc;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  box-sizing: border-box;\n  background: #ffffff;\n  margin-bottom: 2%;\n  font-size: 18px;\n}\n.leads {\n  display: flex;\n  padding: 10px;\n  justify-content: space-between;\n}\n\np {\n  display: inline;\n}\n\n</style>\n"]}]}