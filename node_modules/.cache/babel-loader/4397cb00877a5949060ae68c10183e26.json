{"remainingRequest":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/babel-loader/lib/index.js!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue","mtime":1611636933700},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3RhcnVubHVuaWEvRG93bmxvYWRzL0NSTUZyb250L3JlaW1hZ2luZWQtZmllc3RhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vY29va2llcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGVhZDoge30sCiAgICAgIGNvbW1lbnRzOiAnJywKICAgICAgZG9jdW1lbnRVUkw6ICcnLAogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIGFwaTogJzNhYmI2OTllYzc5N2YzNmRmMjkyOGQwYmUzMDc4NWM5JwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB1cmwgPSAnaHR0cDovLzEwLjE3Ny4yLjIxOjg3NjAvdGlja2V0L2Fzc2lnblRpY2tldCc7CiAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgQXV0aG9yaXphdGlvbjogZ2V0Q29va2llKCdhZ2VudF9pZCcpCiAgICB9OwogICAgYXhpb3MuZ2V0KHVybCwgewogICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgX3RoaXMubGVhZCA9IHJlcy5kYXRhOwogICAgICBfdGhpcy5sZWFkLnRpY2tldFN0YXR1cyA9ICdJbiBQcm9ncmVzcyc7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlVGlja2V0OiBmdW5jdGlvbiBjbG9zZVRpY2tldCgpIHsKICAgICAgdmFyIHVybCA9ICdodHRwOi8vMTAuMTc3LjIuMjE6ODc2MC90aWNrZXQvY2xvc2VUaWNrZXQnOwogICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICBBdXRob3JpemF0aW9uOiBnZXRDb29raWUoJ2FnZW50X2lkJykKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCh1cmwsIHsKICAgICAgICBzb3VyY2U6IHRoaXMubGVhZC5zb3VyY2UsCiAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmxlYWQuZmlyc3ROYW1lLAogICAgICAgIGxhc3ROYW1lOiB0aGlzLmxlYWQubGFzdE5hbWUsCiAgICAgICAgcG9zdElkOiB0aGlzLmxlYWQucG9zdElkLAogICAgICAgIHVzZXJFbWFpbDogdGhpcy5sZWFkLnVzZXJFbWFpbCwKICAgICAgICB0aWNrZXRTdGF0dXM6ICdDbG9zZWQnLAogICAgICAgIGNvbW1lbnRzOiB0aGlzLmNvbW1lbnRzLAogICAgICAgIGRvY3VtZW50VVJMOiBudWxsLAogICAgICAgIGFkbWluRW1haWw6IHRoaXMubGVhZC5hZG1pbkVtYWlsLAogICAgICAgIHRpY2tldElkOiB0aGlzLmxlYWQudGlja2V0SWQKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IGhlYWRlcnMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsgLy8gdGhpcy4kcm91dGVyLnB1c2goJy90aWNrZXRkYXNoYm9hcmQnKQoKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBsb2FkOiBmdW5jdGlvbiBvblVwbG9hZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzcG87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBfdGhpczIuc2VsZWN0ZWRGaWxlKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgX3RoaXMyLmFwaSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwczovL2FwaS5pbWdiYi5jb20vMS91cGxvYWQnLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvLmRhdGEuZGF0YS51cmwpOwogICAgICAgICAgICAgICAgX3RoaXMyLmRvY3VtZW50VVJMID0gcmVzcG8uZGF0YS5kYXRhLnVybDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5kb2N1bWVudFVSTCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkZpbGVDaGFuZ2VkOiBmdW5jdGlvbiBvbkZpbGVDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["TicketDashBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,SAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,IAJA;AAKA,MAAA,GAAA,EAAA;AALA,KAAA;AAAA,GADA;AAQA,EAAA,OARA,qBAQA;AAAA;;AACA,QAAA,GAAA,GAAA,6CAAA;AACA,QAAA,OAAA,GAAA;AACA,MAAA,aAAA,EAAA,SAAA,CAAA,UAAA;AADA,KAAA;AAGA,IAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,YAAA,GAAA,aAAA;AACA,KAJA;AAKA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,GAAA,GAAA,4CAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,aAAA,EAAA,SAAA,CAAA,UAAA;AADA,OAAA;AAGA,MAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AAAA,QAAA,MAAA,EAAA,KAAA,IAAA,CAAA,MAAA;AAAA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAAA;AAAA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QAAA;AAAA,QAAA,MAAA,EAAA,KAAA,IAAA,CAAA,MAAA;AAAA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAAA;AAAA,QAAA,YAAA,EAAA,QAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA;AAAA,QAAA,WAAA,EAAA,IAAA;AAAA,QAAA,UAAA,EAAA,KAAA,IAAA,CAAA,UAAA;AAAA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAAA,OAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,CAEA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAJA;AAKA,KAXA;AAYA,IAAA,QAZA,sBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,QADA,GACA,IAAA,QAAA,EADA;AAEA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,YAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA,MAAA,CAAA,GAAA;AAHA;AAAA,uBAIA,KAAA,CAAA,IAAA,CAAA,gCAAA,EAAA,QAAA,CAJA;;AAAA;AAIA,gBAAA,KAJA;AAKA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,WAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KApBA;AAqBA,IAAA,aArBA,yBAqBA,KArBA,EAqBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,WAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AAxBA;AAnBA,CAAA","sourcesContent":["<template>\n  <div>\n    <h2 style=\"text-align:center\">Ticket</h2>\n    <div class=\"card\">\n      <div class=\"leads\"><label>Source:</label> <p class=\"style\">{{lead.source}}</p></div>\n      <div class=\"leads\"><label>First Name:</label> <p class=\"style\"> {{lead.firstName}}</p></div>\n      <div class=\"leads\"><label>Last Name:</label> <p class=\"style\">{{lead.lastName}}</p></div>\n      <div class=\"leads\"><label>Post Id:</label> <p class=\"style\">{{lead.postId}}</p></div>\n      <div class=\"leads\"><label>Lead E-mail:</label> <p class=\"style\">{{lead.userEmail}}</p></div>\n      <div class=\"leads\"><label>Status:</label> <p class=\"style\">{{lead.ticketStatus}}</p></div>\n\n     <div class=\"leads\"><label id=comment>Add Comments:</label> <input type=\"text\" name=\"comments\" placeholder=\"Enter the comments\" v-model=\"comments\"></div>\n      <div class=\"leads\"><label>Support Documents:</label><input type=\"file\" accept=\"image/*\" @change=\"onFileChange\"></div>\n      <button @click=\"onUpload\" type=\"button\">Upload!</button>\n      <p><button @click=\"closeTicket\">Close Ticket</button></p>\n   </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { getCookie } from '../cookies'\nexport default {\n  data: () => ({\n    lead: {},\n    comments: '',\n    documentURL: '',\n    selectedFile: null,\n    api: '3abb699ec797f36df2928d0be30785c9'\n  }),\n  created () {\n    const url = 'http://10.177.2.21:8760/ticket/assignTicket'\n    const headers = {\n      Authorization: getCookie('agent_id')\n    }\n    axios.get(url, { headers: headers }).then((res) => {\n      console.log(res)\n      this.lead = res.data\n      this.lead.ticketStatus = 'In Progress'\n    })\n  },\n  methods: ({\n    closeTicket () {\n      const url = 'http://10.177.2.21:8760/ticket/closeTicket'\n      const headers = {\n        Authorization: getCookie('agent_id')\n      }\n      axios.post(url, { source: this.lead.source, firstName: this.lead.firstName, lastName: this.lead.lastName, postId: this.lead.postId, userEmail: this.lead.userEmail, ticketStatus: 'Closed', comments: this.comments, documentURL: null, adminEmail: this.lead.adminEmail, ticketId: this.lead.ticketId }, { headers: headers }).then((res) => {\n        console.log(res)\n        // this.$router.push('/ticketdashboard')\n        window.location.reload()\n      })\n    },\n    async onUpload () {\n      const formData = new FormData()\n      formData.append('image', this.selectedFile)\n      formData.append('key', this.api)\n      const respo = await axios.post('https://api.imgbb.com/1/upload', formData)\n      console.log(respo.data.data.url)\n      this.documentURL = respo.data.data.url\n      console.log(this.documentURL)\n    },\n    onFileChanged (event) {\n      console.log(event)\n      this.selectedFile = event.target.files[0]\n    }\n  })\n}\n</script>\n<style scoped>\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  max-width: 500px;\n  margin: auto;\n  text-align: center;\n  font-family: arial;\n  font-size: 18px;\n}\n\n.title {\n  color: grey;\n  font-size: 18px;\n}\n\n.style {\n  margin-right: 40px;\n}\n\nbutton {\n  border: none;\n  outline: 0;\n  display: inline-block;\n  padding: 8px;\n  color: white;\n  background-color: #000;\n  text-align: center;\n  cursor: pointer;\n  width: 100%;\n  font-size: 18px;\n  margin-top: 10px;\n}\n\nlabel {\n  /* display: block; */\n  padding: 5px;\n  text-decoration-line: underline;\n  font-weight: bold;\n}\n\na {\n  text-decoration: none;\n  font-size: 22px;\n  color: black;\n}\n\nbutton:hover, a:hover {\n  opacity: 0.7;\n}\n\ninput[type=file] {\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  box-sizing: border-box;\n  background: #ffffff;\n  font-size: 18px;\n}\n\ninput[type=text] {\nwidth: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border-bottom: 1px solid #ccc;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  box-sizing: border-box;\n  background: #ffffff;\n  margin-bottom: 2%;\n  font-size: 18px;\n}\n.leads {\n  display: flex;\n  padding: 10px;\n  justify-content: space-between;\n}\n\np {\n  display: inline;\n}\n\n</style>\n"],"sourceRoot":"src/views"}]}