{"remainingRequest":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/babel-loader/lib/index.js!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/src/views/TicketDashBoard.vue","mtime":1611669204599},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tarunlunia/Downloads/CRMFront/reimagined-fiesta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnOwppbXBvcnQgJ2ZpcmViYXNlL3N0b3JhZ2UnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBnZXRDb29raWUgfSBmcm9tICcuLi9jb29raWVzJzsKaW1wb3J0IGFwaSBmcm9tICcuLi9jb25maWcvYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsZWFkOiB7fSwKICAgICAgY29tbWVudHM6ICcnLAogICAgICBkb2N1bWVudFVSTDogJycsCiAgICAgIHNlbGVjdGVkRmlsZTogbnVsbCwKICAgICAgYXBpOiAnM2FiYjY5OWVjNzk3ZjM2ZGYyOTI4ZDBiZTMwNzg1YzknCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHVybCA9IGFwaS5CQVNFX1VSTF9MT0NBTCArICd0aWNrZXQvYXNzaWduVGlja2V0JzsKICAgIHZhciBoZWFkZXJzID0gewogICAgICBBdXRob3JpemF0aW9uOiBnZXRDb29raWUoJ2FnZW50X2lkJykKICAgIH07CiAgICBheGlvcy5nZXQodXJsLCB7CiAgICAgIGhlYWRlcnM6IGhlYWRlcnMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICBfdGhpcy5sZWFkID0gcmVzLmRhdGE7CiAgICAgIF90aGlzLmxlYWQudGlja2V0U3RhdHVzID0gJ0luIFByb2dyZXNzJzsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VUaWNrZXQ6IGZ1bmN0aW9uIGNsb3NlVGlja2V0KCkgewogICAgICB2YXIgdXJsID0gYXBpLkJBU0VfVVJMX0xPQ0FMICsgJ3RpY2tldC9jbG9zZVRpY2tldCc7CiAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgIEF1dGhvcml6YXRpb246IGdldENvb2tpZSgnYWdlbnRfaWQnKQogICAgICB9OwogICAgICBheGlvcy5wb3N0KHVybCwgewogICAgICAgIHNvdXJjZTogdGhpcy5sZWFkLnNvdXJjZSwKICAgICAgICBmaXJzdE5hbWU6IHRoaXMubGVhZC5maXJzdE5hbWUsCiAgICAgICAgbGFzdE5hbWU6IHRoaXMubGVhZC5sYXN0TmFtZSwKICAgICAgICBwb3N0SWQ6IHRoaXMubGVhZC5wb3N0SWQsCiAgICAgICAgdXNlckVtYWlsOiB0aGlzLmxlYWQudXNlckVtYWlsLAogICAgICAgIHRpY2tldFN0YXR1czogJ0Nsb3NlZCcsCiAgICAgICAgY29tbWVudHM6IHRoaXMuY29tbWVudHMsCiAgICAgICAgZG9jdW1lbnRVUkw6IG51bGwsCiAgICAgICAgYWRtaW5FbWFpbDogdGhpcy5sZWFkLmFkbWluRW1haWwsCiAgICAgICAgdGlja2V0SWQ6IHRoaXMubGVhZC50aWNrZXRJZAogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnL3RpY2tldGRhc2hib2FyZCcpCgogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgaW1hZ2VBZGRlZDogZnVuY3Rpb24gaW1hZ2VBZGRlZChldmVudCkgewogICAgICBjb25zb2xlLmxvZygnaW5zaWRlIGltYWdlQWRkZWQnKTsKICAgICAgdGhpcy5pbWFnZURhdGEgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogICAgUG9zdGluZzogZnVuY3Rpb24gUG9zdGluZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnaW5zaWRlIHBvc3RpbmcnKTsgLy8gICB0aGlzLmltZ1VybCA9IG51bGwKCiAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigiIi5jb25jYXQodGhpcy5pbWFnZURhdGEubmFtZSkpLnB1dCh0aGlzLmltYWdlRGF0YSk7CiAgICAgIHN0b3JhZ2VSZWYub24oJ3N0YXRlX2NoYW5nZWQnLCBmdW5jdGlvbiAoc25hcHNob3QpIHt9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIHN0b3JhZ2VSZWYuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAvLyB0aGlzLmltZ1VybCA9IHVybAogICAgICAgICAgX3RoaXMyLnN0b3J5VVJMID0gdXJsOwogICAgICAgICAgY29uc29sZS5sb2coJ3N0b3J5VVJMICA9ICcsIF90aGlzMi5zdG9yeVVSTCk7CiAgICAgICAgICBfdGhpczIuZG9jdW1lbnRVUkwgPSBfdGhpczIuc3RvcnlVUkw7CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuZG9jdW1lbnRVUkwpOwoKICAgICAgICAgIF90aGlzMi5zYXZlVXBsb2FkKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TicketDashBoard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <h2 style=\"text-align:center\">Ticket</h2>\n    <div class=\"card\">\n      <div>\n        <button @click=\"$refs.dpModal.closeModal()\"><i class=\"fas fa-times\"></i></button>\n        <button @click=\"Posting(), $refs.dpModal.closeModal()\">Save</button>\n        <button @click=\"onUpload\" type=\"button\">Upload!</button>\n        <p><button @click=\"closeTicket\">Close Ticket</button></p>\n      </div>\n      <div class=\"leads\"><label>First Name:</label> <p class=\"style\"> {{lead.firstName}}</p>\n      <label>Last Name:</label> <p class=\"style\">{{lead.lastName}}</p></div>\n      <div class=\"leads\"><label>Lead E-mail:</label> <p class=\"style\">{{lead.userEmail}}</p>\n      <label>Source:</label> <p class=\"style\">{{lead.source}}</p></div>\n      <div class=\"leads\"><label>Status:</label> <p class=\"style\">{{lead.ticketStatus}}</p>\n      <label>Post Id:</label> <p class=\"style\">{{lead.postId}}</p></div>\n      <div class=\"leads\"><label id=comment>Comments:</label> <input type=\"text\" name=\"comments\" placeholder=\"Enter the comments\" v-model=\"comments\"></div>\n      <div class=\"leads\"><label>Support Documents:</label>\n      <input type=\"file\" accept=\"image/*\" v-on:change=\"imageAdded($event)\" id=\"uploadPic\" />\n      </div>\n           <div>\n            <button @click=\"$refs.dpModal.closeModal()\">Cancel</button>\n            <button @click=\"Posting(), $refs.dpModal.closeModal()\">Save</button>\n             </div>\n      <button @click=\"onUpload\" type=\"button\">Upload!</button>\n      <p><button @click=\"closeTicket\">Close Ticket</button></p>\n   </div>\n  </div>\n</template>\n<script>\nimport firebase from 'firebase/app'\nimport 'firebase/storage'\nimport axios from 'axios'\nimport { getCookie } from '../cookies'\nimport api from '../config/api'\nexport default {\n  data: () => ({\n    lead: {},\n    comments: '',\n    documentURL: '',\n    selectedFile: null,\n    api: '3abb699ec797f36df2928d0be30785c9'\n  }),\n  created () {\n    const url = api.BASE_URL_LOCAL + 'ticket/assignTicket'\n    const headers = {\n      Authorization: getCookie('agent_id')\n    }\n    axios.get(url, { headers: headers }).then((res) => {\n      console.log(res)\n      this.lead = res.data\n      this.lead.ticketStatus = 'In Progress'\n    })\n  },\n  methods: ({\n    closeTicket () {\n      const url = api.BASE_URL_LOCAL + 'ticket/closeTicket'\n      const headers = {\n        Authorization: getCookie('agent_id')\n      }\n      axios.post(url, { source: this.lead.source, firstName: this.lead.firstName, lastName: this.lead.lastName, postId: this.lead.postId, userEmail: this.lead.userEmail, ticketStatus: 'Closed', comments: this.comments, documentURL: null, adminEmail: this.lead.adminEmail, ticketId: this.lead.ticketId }, { headers: headers }).then((res) => {\n        console.log(res)\n        // this.$router.push('/ticketdashboard')\n        window.location.reload()\n      })\n    },\n    imageAdded (event) {\n      console.log('inside imageAdded')\n      this.imageData = event.target.files[0]\n    },\n    Posting () {\n      console.log('inside posting')\n      //   this.imgUrl = null\n      const storageRef = firebase\n        .storage()\n        .ref(`${this.imageData.name}`)\n        .put(this.imageData)\n      storageRef.on(\n        'state_changed',\n        (snapshot) => {},\n        (error) => {\n          console.log(error.message)\n        },\n        () => {\n          storageRef.snapshot.ref.getDownloadURL().then((url) => {\n            // this.imgUrl = url\n            this.storyURL = url\n            console.log('storyURL  = ', this.storyURL)\n            this.documentURL = this.storyURL\n            console.log(this.documentURL)\n            this.saveUpload()\n          })\n        }\n      )\n    }\n  })\n}\n</script>\n<style scoped>\n.card {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  max-width: 500px;\n  margin: auto;\n  text-align: center;\n  font-family: arial;\n  font-size: 18px;\n}\n\n.title {\n  color: grey;\n  font-size: 18px;\n}\n\n.style {\n  margin-right: 40px;\n}\n\nbutton {\n  border: none;\n  outline: 0;\n  display: inline-block;\n  padding: 8px;\n  color: white;\n  background-color: #000;\n  text-align: center;\n  cursor: pointer;\n  width: 100%;\n  font-size: 18px;\n  margin-top: 10px;\n}\n\nlabel {\n  /* display: block; */\n  padding: 5px;\n  text-decoration-line: underline;\n  font-weight: bold;\n}\n\na {\n  text-decoration: none;\n  font-size: 22px;\n  color: black;\n}\n\nbutton:hover, a:hover {\n  opacity: 0.7;\n}\n\ninput[type=file] {\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  box-sizing: border-box;\n  background: #ffffff;\n  font-size: 18px;\n}\n\ninput[type=text] {\nwidth: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border-bottom: 1px solid #ccc;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  box-sizing: border-box;\n  background: #ffffff;\n  margin-bottom: 2%;\n  font-size: 18px;\n}\n.leads {\n  display: flex;\n  padding: 10px;\n  justify-content: space-between;\n}\n\np {\n  display: inline;\n}\n\n</style>\n"],"sourceRoot":"src/views"}]}